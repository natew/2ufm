<%-
  count ||= 0 # When we render this from an ajax call we increment with JS, so no count is necessary
  extra_class ||= ''
  icon, title, method, path =
    (action == 'add') ?
    ['k','Like this song', :post, "/broadcasts/#{id}"] :
    ['2','Unlike this song', :delete, "/broadcasts/#{id}" ]
-%>
<%= link_to count, path, class: "restricted song-share broadcast-song #{action} icon-heart control tip-e #{extra_class}", remote: true, method: method, 'data-id' => id %>