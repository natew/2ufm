<%- partial       ||= false
    station       ||= Station.new
		id              = station.id || 0
    page            = params[:page] ? params[:page].to_i : 1
		per           ||= 24
    songs         ||= station.songs.playlist_order_broadcasted
    songs           = partial ? songs.page(page).per(per) : songs.page(1).per(page * per)
    style         ||= 'song'
    paginate        = (paginate == false || style == 'mini') ? false : true
-%>

<div id="playlist-<%= id %>-<%= page %>" class="playlist playlist-<%= style %>"
  data-playlist="{&quot;station&quot;: {&quot;id&quot;:&quot;<%= id %>-<%= page %>&quot;,&quot;title&quot;:&quot;<%= station.title %>&quot;,&quot;slug&quot;:&quot;<%= station.slug %>&quot;},&quot;songs&quot;: <%= songs.to_a.to_playlist %>}">
  <%= render :partial => "songs/#{style}", :collection => songs, :locals => { :station_id => id, :page => page } unless songs.nil? %>
</div>

<%= link_to 'Load more', '/page-2', :class => 'next-page control' if paginate %>
